'use strict'

document.addEventListener("DOMContentLoaded", () => {
    console.log('Скрипт отработал корректно')
});

/* 
        *   Алгоритм
        *
        *   1. Начало.
        *   2. Получаем кнопку.
        *   3. Проверка условия (навешиваем слушатели событий на clik на кнопку): есть ли клик на кнопку.
        *       3.1. Да: Смотрим нажата ли кнопка
        *           3.1.1 Проверка условия 
        *               3.1.1.1. Да: (кнопка уже нажата):смена цвета и текста кнопки в исходное положение
        *                   3.1.1.1.1 возвращаемся к "навешиваем слушатели событий на clik на кнопку"
        *               3.1.1.2. Нет (кнопка еще не нажата): смена цвета и текста кнопки
        *                   3.1.1.2.1 возвращаемся к "навешиваем слушатели событий на clik на кнопку"
        *       3.2. Нет: Конец
        *   4. Конец
        * 
        *   Блок-схема: img/blocshema.png
        */

document.addEventListener("DOMContentLoaded", () => {
    // 2. Получаем кнопку
    const button = document.querySelector('.add__to__cart'); 
    if (!button) return; // Если кнопки нет, ничего не делаем

    let isActive = false; // Состояние кнопки

    // 3. Навешиваем слушатель событий на клик
    button.addEventListener('click', () => {
        // 3.1 Смотрим, нажата ли кнопка
        if (isActive) {
            // 3.1.1.1 Кнопка уже нажата: смена цвета и текста в исходное положение
            button.style.backgroundColor = "blue"; // Возвращаем стандартный цвет
            button.textContent = "Добавить в корзину"; // Исходный текст
        } else {
            // 3.1.1.2 Кнопка не нажата: смена цвета и текста
            button.style.backgroundColor = "red"; // Новый цвет
            button.textContent = "Ожидает в корзине"; // Новый текст
        }

        // Инвертируем состояние кнопки
        isActive = !isActive;
    });
});